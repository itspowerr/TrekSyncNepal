<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.control.ScrollPane?>

<ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.trekking.app.ReportsController"> <!-- ADDED CONTROLLER -->
    <content>
        <VBox spacing="20.0" styleClass="dashboard-content-panel">
            <padding>
                <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
            </padding>
            <children>
                <!-- Report Parameters -->
                <VBox spacing="10" styleClass="card-panel">
                    <padding><Insets top="15" right="15" bottom="15" left="15"/></padding>
                    <Label text="%report.parameters.title" styleClass="section-title"/>
                    <GridPane hgap="15.0" vgap="10.0">
                        <columnConstraints>
                            <ColumnConstraints hgrow="SOMETIMES" percentWidth="33.3" />
                            <ColumnConstraints hgrow="SOMETIMES" percentWidth="33.3" />
                            <ColumnConstraints hgrow="SOMETIMES" percentWidth="33.3" />
                        </columnConstraints>
                        <children>
                            <Label text="%report.type.label" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                            <ComboBox fx:id="reportTypeComboBox" promptText="%tourist.statistics.prompt" styleClass="form-input" GridPane.columnIndex="0" GridPane.rowIndex="1" /> <!-- ADDED fx:id -->
                            <Label text="%time.period.label" styleClass="form-label" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                            <ComboBox fx:id="timePeriodComboBox" promptText="%this.week.prompt" styleClass="form-input" GridPane.columnIndex="1" GridPane.rowIndex="1" /> <!-- ADDED fx:id -->
                            <Label text="%export.format.label" styleClass="form-label" GridPane.columnIndex="2" GridPane.rowIndex="0" />
                            <ComboBox fx:id="exportFormatComboBox" promptText="%pdf.prompt" styleClass="form-input" GridPane.columnIndex="2" GridPane.rowIndex="1" /> <!-- ADDED fx:id -->
                        </children>
                    </GridPane>
                    <HBox alignment="CENTER_RIGHT" spacing="15.0">
                        <Button text="%generate.report.button" styleClass="login-button"/>
                        <Button text="%preview.button" styleClass="button-secondary"/>
                    </HBox>
                </VBox>

                <!-- Quick Statistics -->
                <VBox spacing="10" styleClass="card-panel">
                    <padding><Insets top="15" right="15" bottom="15" left="15"/></padding>
                    <Label text="%quick.statistics.title" styleClass="section-title"/>
                    <GridPane hgap="15.0" vgap="15.0">
                        <columnConstraints>
                            <ColumnConstraints hgrow="SOMETIMES" percentWidth="33.3" />
                            <ColumnConstraints hgrow="SOMETIMES" percentWidth="33.3" />
                            <ColumnConstraints hgrow="SOMETIMES" percentWidth="33.3" />
                        </columnConstraints>
                        <children>
                            <VBox styleClass="stat-card stat-card-blue" GridPane.columnIndex="0" GridPane.rowIndex="0">
                                <Label text="%total.tourists.value" styleClass="stat-value"/>
                                <Label text="%total.tourists.label" styleClass="stat-label"/>
                            </VBox>
                            <VBox styleClass="stat-card stat-card-green" GridPane.columnIndex="1" GridPane.rowIndex="0">
                                <Label text="%active.bookings.value" styleClass="stat-value"/>
                                <Label text="%active.bookings.label" styleClass="stat-label"/>
                            </VBox>
                            <VBox styleClass="stat-card stat-card-orange" GridPane.columnIndex="2" GridPane.rowIndex="0">
                                <Label text="%revenue.value" styleClass="stat-value"/>
                                <Label text="%revenue.label" styleClass="stat-label"/>
                            </VBox>
                            <VBox styleClass="stat-card stat-card-purple" GridPane.columnIndex="0" GridPane.rowIndex="1">
                                <Label text="%active.guides.value" styleClass="stat-value"/>
                                <Label text="%active.guides.label" styleClass="stat-label"/>
                            </VBox>
                            <VBox styleClass="stat-card stat-card-red" GridPane.columnIndex="1" GridPane.rowIndex="1">
                                <Label text="%emergency.cases.value" styleClass="stat-value"/>
                                <Label text="%emergency.cases.label" styleClass="stat-label"/>
                            </VBox>
                            <VBox styleClass="stat-card stat-card-teal" GridPane.columnIndex="2" GridPane.rowIndex="1">
                                <Label text="%top.attraction.value" styleClass="stat-value"/>
                                <Label text="%top.attraction.label" styleClass="stat-label"/>
                            </VBox>
                        </children>
                    </GridPane>
                </VBox>

                <!-- Popular Attractions Table -->
                <VBox spacing="10" styleClass="card-panel">
                    <padding><Insets top="15" right="15" bottom="15" left="15"/></padding>
                    <Label text="%popular.attractions.title" styleClass="section-title"/>
                    <TableView styleClass="table-view" VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn text="%rank.column" prefWidth="50"/>
                            <TableColumn text="%attraction.column" prefWidth="150"/>
                            <TableColumn text="%bookings.column" prefWidth="80"/>
                            <TableColumn text="%revenue.column" prefWidth="100"/>
                            <TableColumn text="%avg.group.size.column" prefWidth="100"/>
                            <TableColumn text="%customer.rating.column" prefWidth="120"/>
                        </columns>
                        <!-- Placeholder for table data -->
                    </TableView>
                </VBox>

                <!-- Monthly Trends Chart -->
                <VBox spacing="10" styleClass="card-panel">
                    <padding><Insets top="15" right="15" bottom="15" left="15"/></padding>
                    <Label text="%monthly.trends.title" styleClass="section-title"/>
                    <VBox alignment="CENTER" spacing="10">
                        <Label text="%chart.area.label" styleClass="info-text"/>
                        <Label text="%interactive.charts.label" styleClass="info-text"/>
                        <Label text="%charts.implementation.note" styleClass="info-text-small"/>
                    </VBox>
                    <VBox spacing="5">
                        <Label text="%monthly.tourist.arrivals.label" styleClass="list-item-text"/>
                        <Label text="%revenue.trends.label" styleClass="list-item-text"/>
                        <Label text="%seasonal.booking.patterns.label" styleClass="list-item-text"/>
                        <Label text="%guide.utilization.rates.label" styleClass="list-item-text"/>
                        <Label text="%emergency.incident.trends.label" styleClass="list-item-text"/>
                    </VBox>
                </VBox>
            </children>
        </VBox>
    </content>
</ScrollPane>
