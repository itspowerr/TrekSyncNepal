<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.ChoiceBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>

<VBox spacing="15" styleClass="root" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.trekking.app.controller.TouristDashboardController">
    <padding>
        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
    </padding>
    <children>
        <HBox alignment="CENTER_LEFT" spacing="15" styleClass="header-bar">
            <Label styleClass="app-title" text="Trek Sync Nepal" />
            <Region HBox.hgrow="ALWAYS" />
            <Label fx:id="welcomeLabel" styleClass="label" text="Welcome, Guest!" />
            <Label styleClass="label" text="|" />
            <HBox alignment="CENTER" spacing="10">
                <Label styleClass="label" text="Language" />
                <ChoiceBox fx:id="languageChoice" styleClass="choice-box" />
                <CheckBox fx:id="darkModeToggle" styleClass="check-box" text="Dark Mode" />
            </HBox>
            <Button onAction="#handleLogoutButtonAction" styleClass="button-secondary" text="Logout" />
        </HBox>

        <HBox spacing="20.0" VBox.vgrow="ALWAYS">
            <VBox styleClass="card-panel" HBox.hgrow="ALWAYS">
                <HBox alignment="CENTER_LEFT">
                    <Label styleClass="section-title" text="My Bookings" />
                    <Region HBox.hgrow="ALWAYS" />
                    <Button text="Book a New Tour" onAction="#bookTour" styleClass="button-primary"/>
                    <Button fx:id="payNowButton" text="Pay for Selected Tour" styleClass="login-button" disable="true"/>
                </HBox>
                <Label styleClass="label" text="Select a booking to view guide details or to make a payment." />
                <TableView fx:id="bookingsTable" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="attractionCol" prefWidth="150.0" text="Attraction" />
                        <TableColumn fx:id="startDateCol" prefWidth="120.0" text="Start Date" />
                        <TableColumn fx:id="totalCostCol" prefWidth="100.0" text="Cost"/>
                        <TableColumn fx:id="statusCol" prefWidth="120.0" text="Booking Status" />
                        <TableColumn fx:id="paymentStatusCol" prefWidth="120.0" text="Payment Status" />
                        <TableColumn fx:id="guideNameCol" prefWidth="150.0" text="Assigned Guide" />
                        <TableColumn fx:id="discountAppliedCol" prefWidth="150.0" text="Discount Applied" /> </columns>
                </TableView>
            </VBox>

            <VBox fx:id="guideDetailsPane" spacing="10.0" styleClass="card-panel" minWidth="250">
                <Label styleClass="section-title" text="Guide Information" />
                <GridPane hgap="10" vgap="5">
                    <Label text="Name:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                    <Label fx:id="guideNameLabel" text="N/A" styleClass="label" GridPane.columnIndex="1" GridPane.rowIndex="0"/>
                    <Label text="Contact:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                    <Label fx:id="guideContactLabel" text="N/A" styleClass="label" GridPane.columnIndex="1" GridPane.rowIndex="1"/>
                    <Label text="Experience:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                    <Label fx:id="guideExperienceLabel" text="N/A" styleClass="label" GridPane.columnIndex="1" GridPane.rowIndex="2"/>
                </GridPane>
            </VBox>
        </HBox>
    </children>
</VBox>